# GAMES101-现代图形学入门笔记10-12：几何

该课程是 GAMES 开设的现代计算机图形学课程，系统而全面的介绍：光栅化、几何表示、光的传播理论、动画与模拟。每个方面都从基础原理出发讲解到实际应用，并介绍前沿的理论研究。本文是其 10-12 章几何的学习笔记。

<!--katex-->

## 1. 几何入门

### 几何的场景：

- 不同形状的组合
- 曲面的定义
- 大小和摆放
- 布料等复杂材料的几何
- 水滴等时序复杂物理现象的几何
- 巨型复杂场景的存储和渲染
- 小型复杂物体的表示和渲染
- 微观几何

### 隐式和显式

#### 隐式的几何

基于典型的点，点之间满足一些特定的关系，并不给出实际的点：

- 球，all points in 3D, where $x^2 + y^2 + z^2 = 1$
- 更通用地，$f(x,y,z)=0$

好处是方便判断点是否在面上/内/外，容易光线求交，有利于存储，描述上无采样错误，容易拓扑；坏处是难以判断形状是什么，难以使用规则的函数表示。

#### 显式的几何

最简单的理解是给出一些给定的点，定义一个几何体。另一种显式的方法是通过参数映射的方法。如：

$$
f(u,v) = ((2+\cos{u})\cos{v}, (2+\cos{u})\sin{v}, \sin{u})
\tag{1}
$$

如上式，采样非常简单，只要插入 $(u, v)$ 的值即可；判断点和表面的位置非常困难。

## 2. 隐式表达的方法

### 代数表面

表面是 $x$，$y$，$z$ 多项式的零集，如：

$$
x^2 + y^2 + z^2 = 1
\tag{2}
$$

$$
(R - \sqrt{x^2 + y^2})^2 + z^2 = r^2
\tag{3}
$$

$$
(x^2 + \frac{9 y^2}{4} + z^2 - 1)^3 = x^2 z^3 + \frac{9y^2 z^3}{80}
\tag{4}
$$

### 构造实体几何（Constructive Solid Geometry，CSG）

使用布尔操作结合隐式几何。

### 距离函数

对于任何一个点不描述其表面，而描述点到表面的最近距离。如混合一个移动边界。

距离函数恢复表面可以采用找零的方法。

### 水平集（Level Set Methods）

闭合形式的等式难以表述复杂的形状，作为替代地，可以存储一个值估计函数的网格。

表面被使用插值方法舍入后近似等于零的地方近似，提供了更加显式地控制。

水平集还可以应用在三维上，如医学数据（CT，MRI），该方法即为在三维上材质的表述。

水平集还能用来表示水滴的融合。

### 分型（Fractals）

自身的较小部分不断地重复组成类似的自身，类似递归。使用分形几何研究。部分情况下会引起渲染强烈地走样。

## 3. 显式几何的方法

### 点云

使用一堆点来表述物体，只要表示够细，就看不出是不连续的。其特点为：

- 易于表示任何种类的几何体
- 对大数据集非常有用
- 通常转换为多边形面
- 采样不足的地区难以绘制

### 多边形曲面

存储点和多边形，通常是以三角形和四边形的形式：

- 在图形学中应用广泛
- 易于处理、模拟、合适的采样
- 数据结构上更加复杂
- 最广泛的表示

PS：The Wavefront Object File（.obj）Format - 该格式仅仅是一种指明点、法线、材质、轴以及它们的连接的文本格式。

## 4. 曲线

典型的运用：

- 摄像机路径
- 动画曲线
- 向量字体（字体中加入控制点）

### 贝塞尔曲线（Bezier Curve）

贝塞尔曲线：用一系列控制点（Tangents）来定义曲线。

- 一定会经过起止点
- 起止方向与起止向量相切

#### 贝塞尔曲线估测 — Casteljau 算法

考虑三个点（二次贝塞尔曲线，quadratic bezier）：

